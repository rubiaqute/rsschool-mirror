"use strict";(self.webpackChunkchristmas_task=self.webpackChunkchristmas_task||[]).push([[472],{1472:(A,p,a)=>{a.r(p),a.d(p,{TreeModule:()=>j});var g=a(6019),m=a(26),d=a(4793),t=a(3556);const f=[{path:"",component:d.q}];let C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[m.Bz.forChild(f)],m.Bz]}),n})();var b=a(902),h=a(1117);let v=(()=>{class n{constructor(e){this.storage=e}getToysToHang(){let e=[];return e=this.storage.getObject("favouritesToys")&&this.storage.getObject("favouritesToys").length>0?this.storage.getObject("favouritesToys"):this.getRandomToys(),e}getRandomToys(){let e=[];for(let o=0;o<20;o++)e.push(b.P[o]);return e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-decorate-service"]],decls:0,vars:0,template:function(e,o){},styles:[""]}),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var O=a(4530);function y(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"img",10),t.NdJ("dragstart",function(i){return t.CHM(e),t.oxw(2).handleDragStart(i)}),t.qZA()}if(2&n){const e=r.index,o=t.oxw(),s=o.index;t.MGl("src","assets/toys/",o.$implicit.num,".png",t.LSH),t.hYB("id","",s," - ",e,"")}}function T(n,r){if(1&n&&(t.TgZ(0,"div",6),t.TgZ(1,"div",7),t.YNc(2,y,1,3,"img",8),t.qZA(),t.TgZ(3,"p",9),t._uU(4),t.qZA(),t.qZA()),2&n){const e=r.index,o=t.oxw();t.xp6(1),t.MGl("id","toybox",e,""),t.xp6(1),t.Q6J("ngForOf",o.toysArray[e]),t.xp6(2),t.Oqu(o.getCount(e))}}let x=(()=>{class n{constructor(e,o,i,s){this.decorateService=e,this.cdr=o,this.positionService=i,this.storageService=s,this.toysArray=[],this.toysToHang=[]}ngOnInit(){this.toysToHang=this.decorateService.getToysToHang(),this.toysArray=this.createToysArray()}handleDragStart(e){this.positionService.rewriteIsAvailableToDrop(!1),e.dataTransfer.setData("dragToy",e.target.id)}getCount(e){const o=document.querySelectorAll(".tree-container__toy-image");return String(o[e].childElementCount).padStart(2,"0")}createToysArray(){let e=[];return this.toysToHang.forEach(o=>{let i=[];for(let s=0;s<Number(o.count);s++)i.push([o.num,s]);e.push(i)}),e}cleanSettings(){this.storageService.removeObject("christmasTreeSettings"),this.storageService.removeObject("christmasTreeBgImage"),this.storageService.removeObject("christmasTreeBgImage"),this.storageService.removeObject("christmasTreeImageTree"),this.storageService.removeObject("garlandSwitch"),this.storageService.removeObject("garlandColor")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v),t.Y36(t.sBO),t.Y36(O.x),t.Y36(h.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-toys-to-hang"]],decls:8,vars:1,consts:[[1,"tree-container__header"],[1,"toys-to-hang"],["toysContainer",""],["class","tree-container__toy",4,"ngFor","ngForOf"],[1,"button-container"],[1,"button-screen",3,"click"],[1,"tree-container__toy"],[1,"tree-container__toy-image",3,"id"],["alt","toy-image","draggable","true",3,"src","id","dragstart",4,"ngFor","ngForOf"],[1,"tree-container__toy-count"],["alt","toy-image","draggable","true",3,"src","id","dragstart"]],template:function(e,o){1&e&&(t.TgZ(0,"h3",0),t._uU(1,"\u0418\u0433\u0440\u0443\u0448\u043a\u0438"),t.qZA(),t.TgZ(2,"div",1,2),t.YNc(4,T,5,3,"div",3),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"button",5),t.NdJ("click",function(){return o.cleanSettings()}),t._uU(7," \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 "),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngForOf",o.toysToHang))},directives:[g.sg],styles:['.button-screen[_ngcontent-%COMP%], .tree-container__toy-count[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif}.tree-container__header[_ngcontent-%COMP%]{font-family:"Neucha",sans-serif}.tree-container__toy[_ngcontent-%COMP%]{transition:.5s ease-in-out}.tree-container__header[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:2.8rem;line-height:2.8rem;font-weight:400;font-style:normal;text-transform:normal}.tree-container__toy[_ngcontent-%COMP%]{width:23%;background:radial-gradient(109.56% 109.56% at 0% -2.94%,rgba(255,255,255,.8) 0%,rgba(46,181,199,.8) 100%);border-radius:10px;position:relative;padding:2%}.tree-container__toy-image[_ngcontent-%COMP%]{width:80%;padding-top:100%;content:"";position:relative}.tree-container__toy-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0%;left:5%;width:100%}.tree-container__toy-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.tree-container__toy-count[_ngcontent-%COMP%]{position:absolute;background:radial-gradient(109.56% 109.56% at 0% -2.94%,rgba(255,255,255,.8) 0%,rgba(230,62,62,.8) 100%);color:#fff;border-radius:50%;border:1px solid #278D9F;font-size:1.5rem;line-height:1.5rem;font-weight:400;font-style:normal;text-transform:normal;bottom:0%;right:0%;padding:3%}.toys-to-hang[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;flex-wrap:wrap;grid-row-gap:.5rem;row-gap:.5rem}.button-container[_ngcontent-%COMP%]{margin-top:1rem;width:100%;text-align:center}.button-screen[_ngcontent-%COMP%]{margin-top:.2rem;white-space:nowrap;min-width:60%;color:#fff;border:1px solid #278D9F;text-align:center;padding:.3rem;font-size:1.8rem;line-height:1.8rem;font-weight:300;font-style:normal;text-transform:normal;margin-right:2%;transition:all 1.25s cubic-bezier(.19,1,.22,1);border-radius:3rem;background-color:#1f707f4d}.button-screen[_ngcontent-%COMP%]:hover{transform:scale(1.1)}']}),n})();var l=a(8004),_=a(5239),u=a(7537);const w=["audioplayer"];function M(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",20),t._UZ(1,"div",21),t.TgZ(2,"div",12),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw().toggle(s)}),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,o=t.oxw();t.xp6(1),t.ekj("switch__svg_on",e.isOn),t.Q6J("ngStyle",o.returnSettingsIcon(e.type)),t.xp6(1),t.ekj("switch-on",e.isOn)}}function S(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",22),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().changeTree(s.num)}),t.TgZ(1,"div",23),t._UZ(2,"img",24),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(2),t.MGl("src","assets/tree/",e.num,".png",t.LSH)}}function k(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",25),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().changeBg(s.num)}),t.qZA()}if(2&n){const e=r.$implicit,o=t.oxw();t.Q6J("ngStyle",o.returnBackground(e.num))}}function P(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){const s=t.CHM(e).index,c=t.oxw();return c.changeGarlandColor(c.garlandColors[s])}),t.qZA()}if(2&n){const e=r.index,o=t.oxw();t.Q6J("ngClass",o.garlandColors[e])}}let Z=(()=>{class n{constructor(e,o){this.storageService=e,this.mainPage=o,this.bgChoice=new t.vpe,this.treeChoice=new t.vpe,this.garlandSwitch=new t.vpe,this.garLandColorChoice=new t.vpe,this.justChangeGarLandColor=new t.vpe,this.congratsWritten=new t.vpe,this.congratsInput="\u0421 \u041d\u043e\u0432\u044b\u043c \u0413\u043e\u0434\u043e\u043c!",this.interval=setInterval(this.createSnowflakes,100),this.garlandColorChoosed="",this.garlandIsOn=!1,this.garlandColors=[],this.treesToChoose=[],this.bgToChoose=[],this.settingsObject=[]}ngOnInit(){this.treesToChoose=l.kl,this.bgToChoose=l.t4,this.settingsObject=this.updateSettingsObject(),clearInterval(this.interval),this.garlandColors=l.M_,this.garlandIsOn=this.updateGarlandSwitch(),this.garlandColorChoosed=this.updateGarlandColor(),this.garlandSwitch.emit(this.garlandIsOn),this.justChangeGarLandColor.emit(this.garlandColorChoosed),this.toggleSnow(this.settingsObject[1].isOn),this.checkMusic(),this.congratsWritten.emit(this.congratsInput)}checkMusic(){this.settingsObject[0].isOn&&document.addEventListener("click",()=>this.toggleMusic(),{once:!0})}returnSettingsIcon(e){return{background:`url(assets/svg/${e}.svg) no-repeat center`}}updateGarlandSwitch(){return!!this.storageService.getObject("garlandSwitch")&&this.storageService.getObject("garlandSwitch")}updateGarlandColor(){return this.storageService.getObject("garlandColor")?this.storageService.getObject("garlandColor"):this.garlandColors[0]}updateSettingsObject(){return this.storageService.getObject("christmasTreeSettings")?this.storageService.getObject("christmasTreeSettings"):l.Xd}toggle(e){this.settingsObject[e].isOn=1!=this.settingsObject[e].isOn,this.storageService.setObject("christmasTreeSettings",this.settingsObject),0==e&&this.toggleMusic(),1==e&&this.toggleSnow(this.settingsObject[e].isOn),console.log(this.settingsObject)}toggleMusic(){this.audioplayer.nativeElement.paused?this.audioplayer.nativeElement.play():this.audioplayer.nativeElement.pause()}toggleSnow(e){e?this.interval=setInterval(()=>{this.createSnowflakes()},100):clearInterval(this.interval)}createSnowflakes(){const e=new Image;e.src="assets/svg/snowflake.svg";const o=document.getElementById("mainTree");o.append(e),e.style.animation="fall linear forwards",e.style.position="absolute",e.style.top="-20%",e.style.animationDuration=4*Math.random()+1+"s",e.style.opacity=String(Math.random());const i=3*Math.random()+1+"rem";e.style.width=i,e.style.height=i,e.style.left=Math.random()*o.offsetWidth+"px",setTimeout(()=>{e.remove()},3e3)}garlandToggle(){this.garlandIsOn=!this.garlandIsOn,this.storageService.setObject("garlandSwitch",this.garlandIsOn),this.garlandSwitch.emit(this.garlandIsOn)}changeGarlandColor(e){this.garlandColorChoosed=e,this.garlandIsOn||(this.garlandIsOn=!0),this.storageService.setObject("garlandSwitch",this.garlandIsOn),this.storageService.setObject("garlandColor",this.garlandColorChoosed),this.garLandColorChoice.emit(this.garlandColorChoosed)}returnBackground(e){return{background:`url(assets/bg/${e}.jpg) center/cover no-repeat`}}changeBg(e){this.bgChoice.emit(e)}changeTree(e){this.treeChoice.emit(e)}deleteCongratsInput(){this.congratsInput="",this.congratsWritten.emit(this.congratsInput)}inputCongrat(e){this.congratsInput=e,this.congratsWritten.emit(this.congratsInput)}makeScreen(){this.mainPage.makeScreen()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.c),t.Y36(d.q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-settings-bar"]],viewQuery:function(e,o){if(1&e&&t.Gf(w,5),2&e){let i;t.iGM(i=t.CRH())&&(o.audioplayer=i.first)}},inputs:{treeForDrop:"treeForDrop"},outputs:{bgChoice:"bgChoice",treeChoice:"treeChoice",garlandSwitch:"garlandSwitch",garLandColorChoice:"garLandColorChoice",justChangeGarLandColor:"justChangeGarLandColor",congratsWritten:"congratsWritten"},features:[t._Bn([_.Y])],decls:29,vars:7,consts:[["src","assets/audio/audio.mp3","loop",""],["audioplayer",""],[1,"general-settings"],[1,"switchers-row"],["class","switch",4,"ngFor","ngForOf"],[1,"settings-bar__header"],[1,"trees-to-choose"],["class","trees-to-choose__tree",3,"click",4,"ngFor","ngForOf"],[1,"bg-to-choose"],["class","bg-to-choose__bg",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"garland-row"],["class","garland-button",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"switch__switcher",3,"click"],[1,"congrats-bar"],[1,"congrats__container"],["type","text","autocomplete","off",1,"congrats__input",3,"ngModel","ngModelChange","input"],["congrats",""],[1,"congrats__close",3,"click"],[1,"button-container"],[1,"button-screen",3,"click"],[1,"switch"],[1,"switch__svg",3,"ngStyle"],[1,"trees-to-choose__tree",3,"click"],[1,"trees-to-choose__image"],["alt","tree-image",3,"src"],[1,"bg-to-choose__bg",3,"ngStyle","click"],[1,"garland-button",3,"ngClass","click"]],template:function(e,o){if(1&e){const i=t.EpF();t._UZ(0,"audio",0,1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.YNc(4,M,3,5,"div",4),t.qZA(),t.TgZ(5,"h3",5),t._uU(6,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0451\u043b\u043a\u0443:"),t.qZA(),t.TgZ(7,"div",6),t.YNc(8,S,3,1,"div",7),t.qZA(),t.TgZ(9,"h3",5),t._uU(10,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u043e\u043d:"),t.qZA(),t.TgZ(11,"div",8),t.YNc(12,k,1,1,"div",9),t.qZA(),t.TgZ(13,"h3",5),t._uU(14,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0438\u0440\u043b\u044f\u043d\u0434\u0443:"),t.qZA(),t.TgZ(15,"div",10),t.YNc(16,P,1,1,"button",11),t.TgZ(17,"div",12),t.NdJ("click",function(){return o.garlandToggle()}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"h3",5),t._uU(19,"\u0412\u0430\u0448\u0435 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435:"),t.qZA(),t.TgZ(20,"div",13),t.TgZ(21,"div",14),t.TgZ(22,"input",15,16),t.NdJ("ngModelChange",function(c){return o.congratsInput=c})("input",function(){t.CHM(i);const c=t.MAs(23);return o.inputCongrat(c.value)}),t.qZA(),t.TgZ(24,"span",17),t.NdJ("click",function(){return o.deleteCongratsInput()}),t._uU(25,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",18),t.TgZ(27,"button",19),t.NdJ("click",function(){return o.makeScreen()}),t._uU(28," \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0443 "),t.qZA(),t.qZA()}2&e&&(t.xp6(4),t.Q6J("ngForOf",o.settingsObject),t.xp6(4),t.Q6J("ngForOf",o.treesToChoose),t.xp6(4),t.Q6J("ngForOf",o.bgToChoose),t.xp6(4),t.Q6J("ngForOf",o.garlandColors),t.xp6(1),t.ekj("switch-on",o.garlandIsOn),t.xp6(5),t.Q6J("ngModel",o.congratsInput))},directives:[g.sg,u.Fj,u.JJ,u.On,g.PC,g.mk],styles:['@charset "UTF-8";.congrats__close[_ngcontent-%COMP%], .button-screen[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif}.settings-bar__header[_ngcontent-%COMP%]{font-family:"Neucha",sans-serif}.switch__switcher[_ngcontent-%COMP%]:after, .trees-to-choose__tree[_ngcontent-%COMP%], .bg-to-choose__bg[_ngcontent-%COMP%]{transition:.5s ease-in-out}.settings-bar__header[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:.5rem;text-align:center;color:#fff;font-size:2.2rem;line-height:2.2rem;font-weight:400;font-style:normal;text-transform:normal}.trees-to-choose[_ngcontent-%COMP%], .bg-to-choose[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;flex-wrap:wrap;grid-row-gap:.5rem;row-gap:.5rem}.trees-to-choose__tree[_ngcontent-%COMP%], .bg-to-choose__bg[_ngcontent-%COMP%]{width:15%;background:radial-gradient(109.56% 109.56% at 0% -2.94%,rgba(255,255,255,.8) 0%,rgba(46,181,199,.8) 100%);border-radius:10px;padding:2%}.trees-to-choose__tree[_ngcontent-%COMP%]:hover, .bg-to-choose__bg[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.8}.bg-to-choose__bg[_ngcontent-%COMP%]{width:19%;height:5rem;padding:0}.trees-to-choose__image[_ngcontent-%COMP%]{width:80%;margin:1rem auto}.trees-to-choose__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.switch__svg[_ngcontent-%COMP%]{width:2rem;height:2rem}.switch__switcher[_ngcontent-%COMP%]{display:block;width:5rem;height:2rem;border-radius:19px;background-color:#062c38;z-index:0;margin:0;padding:0;border:none;cursor:pointer;position:relative;transition-duration:.3s}.switch__switcher[_ngcontent-%COMP%]:after{content:"";height:1.5rem;width:1.5rem;border-radius:17px;background-color:#ffffff80;top:.2rem;left:.2rem;position:absolute;z-index:1}.switchers-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.switch[_ngcontent-%COMP%]{display:flex;grid-column-gap:3rem;column-gap:3rem}.switch__svg_on[_ngcontent-%COMP%]{filter:invert(57%) sepia(100%) saturate(329%) hue-rotate(141deg) brightness(89%) contrast(90%)}.switch-on[_ngcontent-%COMP%]{background:#096a88}.switch-on[_ngcontent-%COMP%]:after{left:3.3rem;background:#ffffff}.fa-snowflake[_ngcontent-%COMP%]{animation:fall 2s linear forwards;width:5rem;height:5rem;position:absolute;top:-20%}@keyframes fall{to{transform:translateY(100vh)}}.garland-button[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:50%}.garland-button.multicolor[_ngcontent-%COMP%]{background:linear-gradient(124deg,#ff2400,#e81d1d,#e8b71d,#e3e81d,#1de840,#1ddde8,#2b1de8);box-shadow:#0003 0 -1px 7px 1px,inset #441313 0 -1px 9px,#ccc 0 2px 12px}.garland-button.red[_ngcontent-%COMP%]{background-color:red;box-shadow:#0003 0 -1px 7px 1px,inset #441313 0 -1px 9px,#ff000080 0 2px 12px}.garland-button.green[_ngcontent-%COMP%]{background-color:#abff00;box-shadow:#0003 0 -1px 7px 1px,inset #304701 0 -1px 9px,#89ff00 0 2px 12px}.garland-button.blue[_ngcontent-%COMP%]{background-color:#24e0ff;box-shadow:#0003 0 -1px 7px 1px,inset #006 0 -1px 9px,#3f8cff 0 2px 14px}.garland-button.yellow[_ngcontent-%COMP%]{background-color:#ff0;box-shadow:#0003 0 -1px 7px 1px,inset #808002 0 -1px 9px,#ff0 0 2px 12px}.garland-row[_ngcontent-%COMP%]{margin-top:2rem;display:flex;justify-content:space-between}.button-container[_ngcontent-%COMP%]{width:100%;text-align:center}.button-screen[_ngcontent-%COMP%]{margin-top:.2rem;white-space:nowrap;min-width:60%;color:#fff;border:1px solid #278D9F;text-align:center;padding:.3rem;font-size:1.8rem;line-height:1.8rem;font-weight:300;font-style:normal;text-transform:normal;margin-right:2%;transition:all 1.25s cubic-bezier(.19,1,.22,1);border-radius:3rem;background-color:#1f707f4d}.button-screen[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.congrats__container[_ngcontent-%COMP%]{position:relative;margin:0 auto 2rem;border-radius:3rem;background:radial-gradient(118.88% 606.86% at 0% 0%,rgba(36,197,219,.15) 0%,rgba(36,197,219,0) 100%);border:.2rem solid #9df3ffcc;width:80%}.congrats-bar[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}.congrats__input[_ngcontent-%COMP%]{background:transparent;border:none;width:80%;color:#fff;padding:.5rem 1rem}.congrats__input[_ngcontent-%COMP%]:focus{background:transparent;border:none;outline:none}.congrats__close[_ngcontent-%COMP%]{position:absolute;display:inline-block;vertical-align:top;top:0%;right:1.5rem;font-size:2rem;line-height:2.2rem;font-weight:400;font-style:normal;text-transform:uppercase;color:#fff;opacity:.6}.congrats__close[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer}']}),n})(),j=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.ez,C,u.u5]]}),n})();t.B6R(d.q,[Z,g.PC,g.O5,_.Y,x],[])}}]);